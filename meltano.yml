version: 1
send_anonymous_usage_stats: true
project_id: tap-mongodb
default_environment: test
environments:
  - name: test
plugins:
  extractors:
    - name: tap-mongodb
      namespace: tap_mongodb
      pip_url: -e .
      capabilities:
        - state
        - catalog
        - discover
        - about
        - stream-maps
      config:
        mongodb_connection_string: mongodb://admin:password@localhost:27017?replicaSet=rs0
        mongodb_max_await_time_ms: 5000
        database_includes:
          - test_database
      settings:
        - name: mongodb_connection_string
          kind: password
        - name: mongodb_connection_string_file
          kind: file
        - name: mongodb_max_await_time_ms
          kind: integer
        - name: start_date
          kind: date_iso8601
          description: |
            Start date - used for incremental replication only. Log based replication does not support this setting.
      metadata:
        test_database_TestDocument:
          replication-key: _id
          replication-method: INCREMENTAL
  loaders:
    - name: target-jsonl
      variant: andyh1203
      pip_url: target-jsonl
